"use strict";const form=document.querySelector(".jsform");function handleForm(e){e.preventDefault()}form.addEventListener("submit",handleForm);const fullName=document.querySelector(".jsname"),previewName=document.querySelector(".jsnamepreview");function handleName(e){let t=fullName.value;previewName.innerHTML=""===t?"Paquita Salas":t,e&&13===e.keyCode&&jobElement.focus(),saveInLocalStorage()}fullName.addEventListener("keyup",handleName);const jobElement=document.querySelector(".jsjob"),previewJob=document.querySelector(".jsjobpreview");function handleJob(e){let t=jobElement.value;previewJob.innerHTML=""===t?"CEO PS Management":t,e&&13===e.keyCode&&mail.focus(),saveInLocalStorage()}jobElement.addEventListener("keyup",handleJob);const mail=document.querySelector(".jsmail"),previewMail=document.querySelector(".jsmaillink");function handleMail(e){let t=mail.value;previewMail.href=""===t?"#":"mailto:"+t,e&&13===e.keyCode&&telephone.focus(),saveInLocalStorage()}function preventLink(e){console.log(e),""===mail.value&&e.preventDefault(),saveInLocalStorage()}mail.addEventListener("keyup",handleMail),previewMail.addEventListener("click",preventLink);const telephone=document.querySelector(".jsphone"),previewTelephone=document.querySelector(".jsphonelink");function handlePhone(e){let t=telephone.value;previewTelephone.href=""===t?"#":"tel:"+t,e&&13===e.keyCode&&linkedin.focus(),saveInLocalStorage()}function preventTelephone(e){console.log(e),""===telephone.value&&e.preventDefault(),saveInLocalStorage()}telephone.addEventListener("keyup",handlePhone),previewTelephone.addEventListener("click",preventTelephone);const linkedin=document.querySelector(".jslinkedin"),previewLinkedin=document.querySelector(".jslinkedinlink");function handleLinkedin(e){let t=linkedin.value,n=t.replace("https://www.linkedin.com/in/","");previewLinkedin.href=""===t?"#":"https://www.linkedin.com/in/"+n,e&&13===e.keyCode&&github.focus(),saveInLocalStorage()}function preventLinkedin(e){console.log(e),""===linkedin.value&&e.preventDefault(),saveInLocalStorage()}linkedin.addEventListener("keyup",handleLinkedin),previewLinkedin.addEventListener("click",preventLinkedin);const github=document.querySelector(".jsgithub"),previewGithub=document.querySelector(".jsgithublink");function handleGithub(e){let t=github.value,n=t.replace("https://github.com/","");if(previewGithub.href=""===t?"#":"https://github.com/"+n,e&&13===e.keyCode){document.querySelector(".dropdownshare-btn").click();document.querySelector(".jssharebtn").focus()}saveInLocalStorage()}function preventGithub(e){console.log(e),""===github.value&&e.preventDefault(),saveInLocalStorage()}github.addEventListener("keyup",handleGithub);const paletteElements=document.querySelectorAll(".js-palette"),cardElement=document.querySelector(".js-card");function updatePalette(){cardElement.classList.remove("palette-1","palette-2","palette-3","palette-4");const e=document.querySelector(".js-palette:checked").value;cardElement.classList.add("palette-"+e),saveInLocalStorage()}for(const e of paletteElements)e.addEventListener("change",updatePalette);const deleteButton=document.querySelector(".js-reset"),inputElements=document.querySelectorAll(".form__input"),smallPhoto=document.querySelector(".js-resetSmallphoto"),previewPhoto=document.querySelector(".js-previewPhotoReset");function handleDelete(){handleDeleteForm(),handleResetDesignPreview(),handleResetDesignValue(),saveInLocalStorage()}function handleDeleteForm(){for(let e=0;e<inputElements.length;e++)""!==inputElements[e].value&&(inputElements[e].value="");photo="",handleName(),handleJob(),handleMail(),handlePhone(),handleLinkedin(),handleGithub(),updatePhoto()}function handleResetDesignPreview(){cardElement.classList.remove("palette-1","palette-2","palette-3","palette-4")}function handleResetDesignValue(){const e=document.querySelector(".js-input1");document.querySelector(".js-palette:checked").checked=!1,e.checked=!0}console.log(inputElements),deleteButton.addEventListener("click",handleDelete);const dropdownHeaders=document.querySelectorAll(".js-dropdown-header");function changeDropdown(e){const t=e.currentTarget,n=t.querySelector(".js-arrow"),o=t.parentNode.querySelector(".dropdowncontainer"),l=o.classList.contains("hidden"),a=document.querySelectorAll(".js-arrow");for(const e of a)e.classList.remove("changeArrow");const r=document.querySelectorAll(".dropdowncontainer");for(const e of r)e.classList.add("hidden");l?(n.classList.add("changeArrow"),n.classList.remove("dropdown__arrow"),o.classList.remove("hidden")):(n.classList.remove("changeArrow"),n.classList.add("dropdown__arrow"),o.classList.add("hidden"))}for(const e of dropdownHeaders)e.addEventListener("click",changeDropdown);const fr=new FileReader,uploadBtn=document.querySelector(".js-buttonForm"),fileField=document.querySelector(".js-inputPhoto"),profileImage=document.querySelector(".js-smallPhoto"),profilePreview=document.querySelector(".js-previewPhoto");let photo="";function getImage(e){const t=e.currentTarget.files[0];fr.addEventListener("load",writeImage),fr.readAsDataURL(t)}function writeImage(){photo=fr.result,updatePhoto(),saveInLocalStorage()}function updatePhoto(){const e=photo||"./assets/images/paquita.png";profilePreview.style.backgroundImage=`url(${e})`,profileImage.style.backgroundImage=`url(${e})`}function saveInLocalStorage(){const e={photo:photo,palette:parseInt(document.querySelector(".js-palette:checked").value),name:document.querySelector(".jsname").value,job:document.querySelector(".jsjob").value,email:document.querySelector(".jsmail").value,phone:document.querySelector(".jsphone").value,linkedin:document.querySelector(".jslinkedin").value,github:document.querySelector(".jsgithub").value},t=JSON.stringify(e);localStorage.setItem("userData",t)}function getFromLocalStorage(){const e=localStorage.getItem("userData");if(null!==e){const t=JSON.parse(e);document.querySelector(".jsname").value=t.name,document.querySelector(".jsjob").value=t.job,document.querySelector(".jsmail").value=t.email,document.querySelector(".jsphone").value=t.phone,document.querySelector(".jslinkedin").value=t.linkedin,document.querySelector(".jsgithub").value=t.github,photo=t.photo;const n=document.querySelectorAll(".js-palette");for(const e of n)parseInt(e.value)===t.palette&&(e.checked=!0);handleName(),handleJob(),handleMail(),handlePhone(),handleLinkedin(),handleGithub(),updatePalette(),updatePhoto()}}fileField.addEventListener("change",getImage),getFromLocalStorage();